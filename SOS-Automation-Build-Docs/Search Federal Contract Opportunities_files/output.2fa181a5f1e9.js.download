datatableContractOpportunity='#datatable_search_contract_opportunity'
datatableContractForecast='#datatable_search_contract_forecast'
datatableDibbsOpportunity='#datatable_search_dibbs_opportunity'
download_table='contract_opportunity'
prior_search_params=JSON.stringify(search_params)
function setFullCounts(){document.getElementById('search_contract_opportunity_pill').textContent=abbr_str_number(counts['contract_opportunity'],'')
document.getElementById('search_contract_forecast_pill').textContent=abbr_str_number(counts['contract_forecast'],'')
document.getElementById('search_dibbs_opportunity_pill').textContent=abbr_str_number(counts['dibbs_opportunity'],'')
var count_pill=document.getElementsByClassName("count_pill");for(var i=0;i<count_pill.length;i++){count_pill.item(i).classList.remove('bg-light')
count_pill.item(i).classList.add('bg-primary')}
document.getElementById('searchtabs').classList.remove('d-none')}
function setID(search_saved_name=null,update_frequency=null){document.getElementById('more_ideas_outer').classList.add('d-none')
if(prior_search_params===JSON.stringify(search_params)&search_saved_name==null){}else{delete search_params.id
if(Object.keys(search_params).length<1){window.history.pushState("","",'/contract-opportunity/')}
else{search_id=nanoid()
search_params.id=search_id
window.history.pushState("","",'/contract-opportunity/?searchID='+search_id)
save_search(search_id,'contract_opportunity',search_params,search_saved_name,update_frequency,csrf)}
prior_search_params=JSON.stringify(search_params)
toggleShareBar()}}
function resetAll(){let elementsArrayParams2=document.querySelectorAll('.params-row');elementsArrayParams2.forEach(function(elem){if(!elem.classList.contains('grouper')){toggleVisibility(elem.id.toString(),forceClose=true,full=true)}});toggleVisibility('description')
search_params={}
window.history.pushState("","",'/contract-opportunity/')
$(datatableContractOpportunity).DataTable().state.clear()
$(datatableContractForecast).DataTable().state.clear()
$(datatableDibbsOpportunity).DataTable().state.clear()
setTimeout(function(){location.reload();},100);}
function lengthChange(len_value){$(datatableContractOpportunity).DataTable().page.len(len_value).draw();$(datatableContractForecast).DataTable().page.len(len_value).draw();$(datatableDibbsOpportunity).DataTable().page.len(len_value).draw();document.getElementById('current_length').innerHTML=len_value}
if(window.location.hash.substring(1)=='contract_forecast'){$(datatableContractForecast).on('preInit.dt',function(e,settings,len){setColumns(datatableContractForecast)
setSort(datatableContractForecast)
download_table='contract_forecast'});}
else if(window.location.hash.substring(1)=='dibbs_opportunity'){$(datatableDibbsOpportunity).on('preInit.dt',function(e,settings,len){setColumns(datatableDibbsOpportunity)
setSort(datatableDibbsOpportunity)
download_table='dibbs_opportunity'});}else{$(datatableContractOpportunity).on('preInit.dt',function(e,settings,len){setColumns(datatableContractOpportunity)
setSort(datatableContractOpportunity)});}
last_search=null
$(datatableContractOpportunity).on('draw.dt',function(e,settings,len){try{if((search_params.id!==last_search)&&(search_params.id.length>1)){document.getElementById('more_ideas_outer').classList.add('d-none')
$.post("/search_suggestions_contract_opp/",{search_params:JSON.stringify(search_params),csrfmiddlewaretoken:csrf,},function(html){if(html==='None'){}else{document.getElementById('more_ideas').innerHTML=html
document.getElementById('more_ideas_outer').classList.remove('d-none')
load_tooltips()}})}}catch{}
last_search=search_params.id});$(datatableContractOpportunity).on('draw.dt column-visibility.dt',function(e,settings,column,state){remove_score_sort()
$(datatableContractOpportunity).DataTable().columns.adjust()});$(datatableContractOpportunity).on('draw.dt',function(e,settings,len){if(Object.keys(search_params).length===0){setFullCounts()}else{pill_update(datatableContractOpportunity,'search_contract_opportunity_pill',null,search_params.id,'contract_opportunity')}});remove_duplicate(datatableContractOpportunity.replace('#',''))
AjaxDatatableViewUtils.initialize_table($(datatableContractOpportunity),"/ajax_datatable/datatable_opportunity_search/",{stateSave:true,stateDuration:0,language:{emptyTable:'<br><i style="font-size:50px" class="fa-kit fa-circle-exclamation"></i> <br><br> <span style="font-size:25px"> No Results Found</span><br><br><span style="font-size:16px">Suggestions:</span><span style="font-size:14px; line-height:160%"><br>Broaden your search<br>Check for misspellings<br>Try <a href="/all">Search All<br></span>',},dom:'rtp',},{search_params:function(){return JSON.stringify(search_params)},},);$(datatableContractForecast).on('draw.dt column-visibility.dt',function(e,settings,column,state){remove_score_sort()
$(datatableContractForecast).DataTable().columns.adjust()});$(datatableContractForecast).on('draw.dt',function(e,settings,len){if(Object.keys(search_params).length===0){setFullCounts()}else{pill_update(datatableContractForecast,'search_contract_forecast_pill',null,search_params.id,'contract_forecast')}});remove_duplicate(datatableContractForecast.replace('#',''))
AjaxDatatableViewUtils.initialize_table($(datatableContractForecast),"/ajax_datatable/datatable_contract_forecast_search/",{stateSave:true,stateDuration:0,language:{emptyTable:'<br><i style="font-size:50px" class="fa-kit fa-circle-exclamation"></i> <br><br> <span style="font-size:25px"> No Results Found</span><br><br><span style="font-size:16px">Suggestions:</span><span style="font-size:14px; line-height:160%"><br>Broaden your search<br>Check for misspellings<br>Try <a href="/all">Search All<br></span>',},dom:'rtp',},{search_params:function(){return JSON.stringify(search_params)},},);$(datatableDibbsOpportunity).on('draw.dt column-visibility.dt',function(e,settings,column,state){remove_score_sort()
$(datatableDibbsOpportunity).DataTable().columns.adjust()});$(datatableDibbsOpportunity).on('draw.dt',function(e,settings,len){if(Object.keys(search_params).length===0){setFullCounts()}else{pill_update(datatableDibbsOpportunity,'search_dibbs_opportunity_pill',null,search_params.id,'dibbs_opportunity')}});remove_duplicate(datatableDibbsOpportunity.replace('#',''))
AjaxDatatableViewUtils.initialize_table($(datatableDibbsOpportunity),"/ajax_datatable/datatable_dibbs_opportunity/",{stateSave:true,stateDuration:0,language:{emptyTable:'<br><i style="font-size:50px" class="fa-kit fa-circle-exclamation"></i> <br><br> <span style="font-size:25px"> No Results Found</span><br><br><span style="font-size:16px">Suggestions:</span><span style="font-size:14px; line-height:160%"><br>Broaden your search<br>Check for misspellings<br>Try <a href="/all">Search All<br></span>',},dom:'rtp',},{search_params:function(){return JSON.stringify(search_params)},},);function set_score_control(order){if(order=='Score'){sort_score(datatableContractOpportunity,'Score')
sort_score(datatableContractForecast,'Score')
sort_score(datatableDibbsOpportunity,'Score')}else{sort_score(datatableContractOpportunity,'Posted')
sort_score(datatableContractForecast,'Posted Date')
sort_score(datatableDibbsOpportunity,'Posted')}}
function remove_score_sort(){try{remove_score(datatableContractOpportunity)
remove_score(datatableContractForecast)
remove_score(datatableDibbsOpportunity)}catch{}}
add_watch()
add_dropdown_watch()
search_suggestion()
create_dropdowns()
if(document.getElementById('description').classList.contains("d-none")){toggleVisibility('description')}
if(existing_search){setFullCounts()}else{populate_fields(search_params)}
add_watch_macros()
toggleShareBar()
$(datatableContractOpportunity).on('draw.dt',function(){load_tooltips()
add_watch_pagination()
document.documentElement.scrollTop=0});$(datatableContractForecast).on('draw.dt',function(){load_tooltips()
add_watch_pagination()
document.documentElement.scrollTop=0});$(datatableDibbsOpportunity).on('draw.dt',function(){load_tooltips()
add_watch_pagination()
document.documentElement.scrollTop=0});if(window.location.hash){var sel=document.querySelector(`${window.location.hash}`)
bootstrap.Tab.getOrCreateInstance(sel).show()};